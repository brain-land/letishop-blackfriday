(function(){var t,e,n,r,i;r=[],n=[],e=["images/badge.svg","images/edge350.svg","images/edge420.svg","images/edge500.svg","images/logo.svg","images/final-bg.png","images/start-bg.png","images/task-bg.png"],t=["images/car.png","images/car-mobile.png"],i="game_blackfriday",document.getElementById(i).attributes["load-fonts"]&&r.push("https://fonts.googleapis.com/css?family=Roboto:400,500,700,900&amp;subset=cyrillic"),window.BLEmbeddedGames||(window.BLEmbeddedGames={Task:{}}),BLEmbeddedGames.loaderConfig={targetId:i,styles:r,scripts:n,imagesRequired:e,imagesAdditional:t,jQuery:0,filesCount:r.length+n.length+e.length+0}}).call(this),function(){var t,e,n,r,i,s,o,a,l,h,u,c,p,f,d,v,b,g,m,y,w,_;if(window.BLEmbeddedGames||(window.BLEmbeddedGames={Task:{}}),e=BLEmbeddedGames,r=function(t){return"http"===t.slice(0,4)?t:""+e.baseDir+t},f=function(){var n,r,i,s,o;if(0==(c-=1)){for(t.innerHTML="",t.removeAttribute("style"),e.main(),o=[],r=0,i=(s=e.loaderConfig.imagesAdditional).length;r<i;r++)n=s[r],o.push(p(n));return o}},v=function(e){var n;return n=document.createElement("link"),n.rel="stylesheet",n.type="text/css",n.href=r(e),n.onload=f,n.onerror=f,t.insertAdjacentElement("beforebegin",n)},d=function(e){var n;return n=document.createElement("script"),n.src=r(e),n.onload=f,n.onerror=f,n.async=!1,t.insertAdjacentElement("beforebegin",n)},s=[],p=function(t){var e;return e=new Image,e.onload=f,e.onerror=f,e.src=r(t),s.push(e)},_=e.loaderConfig.targetId,t=document.getElementById(_)){for(c=e.loaderConfig.filesCount,e.baseDir=null!=(b=null!=(g=t.attributes["data-base"])?g.value:void 0)?b:"",e.parameters=t.attributes,i=0,l=(m=e.loaderConfig.styles).length;i<l;i++)v(n=m[i]);for(!e.loaderConfig.jQuery||"undefined"!=typeof jQuery&&null!==jQuery||d("js/jquery.min.js"),o=0,h=(y=e.loaderConfig.scripts).length;o<h;o++)d(n=y[o]);for(a=0,u=(w=e.loaderConfig.imagesRequired).length;a<u;a++)n=w[a],p(n)}else console.warn("Numera: не удается найти элемент #"+_)}.call(this),function(t,e){var n=e(t);"object"==typeof module&&"object"==typeof exports?module.exports=n:("function"==typeof define?define("jqlite",function(){return n}):"function"==typeof angular?angular.module("jqlite",[]).constant("jqlite",n):t.jqlite=n,t.BLEmbeddedGames.$=n)}(this,function(t){"use strict";function e(t){return function(e){return typeof e===t}}function n(t){return function(e){return e instanceof t}}function r(){for(var t,e=S.call(arguments),n=S.call(arguments);n;){if(typeof e!=typeof n&&(e=C(n)?[]:m(n)?{}:n),m(n))for(t in n)void 0!==n[t]&&(typeof e[t]!=typeof n[t]?e[t]=r(void 0,n[t]):C(e[t])?[].push.apply(e[t],n[t]):m(e[t])?e[t]=r(e[t],n[t]):e[t]=n[t]);n=S.call(arguments)}return e}function i(){for(var t,e=S.call(arguments),n=S.call(arguments);n;){for(t in n)e[t]=n[t];n=S.call(arguments)}return e}function s(t,e,n){if(void 0!==n){if(t.$$jqListeners&&t.$$jqListeners[e]){var r=E(t.$$jqListeners[e],function(t){return t.srcListener===n});r.found&&(t.$$jqListeners[e].splice(r.index,1),H(t,e,r.found))}}else if(t.$$jqListeners&&t.$$jqListeners[e]){for(var i=0,s=t.$$jqListeners[e].length;i<s;i++)H(t,e,t.$$jqListeners[e][i]);t.$$jqListeners[e]=[]}}function o(t,e,n,r){var i=r?function(r){n.apply(t,[r].concat(r.args)),s(t,e,n)}:function(e){n.apply(t,[e].concat(e.args))};i.srcListener=n,t.$$jqListeners=t.$$jqListeners||{},t.$$jqListeners[e]=t.$$jqListeners[e]||[],t.$$jqListeners[e].push(i),j(t,e,i)}function a(t,e){for(var n=0,r=e.length;n<r;n++)t[n]=e[n];return t.length+=r,t}function l(t,e){var n=t[0];if("<"===n)return A.innerHTML=t,a(new p,A.children);if(-1!==t.indexOf(" ")||-1!==t.indexOf(":"))return a(new p,e.querySelectorAll(t));if("#"===n){var r=e.getElementById(t.substr(1));if(r){var i=new p;return i[0]=r,i.length=1,i}return a(new p,e.querySelectorAll(t))}return"."===n?a(new p,e.getElementsByClassName(t.substr(1))):R.test(t)?a(new p,e.getElementsByTagName(t)):a(new p,e.querySelectorAll(t))}function h(t){if(t instanceof p)return t;if(C(t)||t instanceof NodeList||t instanceof HTMLCollection)return a(new p,t);if(t===window||t===document||t instanceof HTMLElement||t instanceof Element||$(t)){var e=new p;return e[0]=t,e.length=1,e}if(y(t))c(t);else if(void 0===t)return new p}function u(t,e){return w(t)?l(t,e||document):h(t)}function c(t){y(t)&&(/loaded|complete/.test(document.readyState)?t():N(t))}function p(){}function f(t){if(t.length<=1)return t;for(var e=t.filter(function(){return!this.___found___&&(this.___found___=!0,!0)}),n=0,r=e.length;n<r;n++)delete e[n].___found___;return e}function d(t,e,n){return e&&(e.previousElementSibling&&(n=d(t,e.previousElementSibling,n)),t[n++]=e),n}function v(t,e,n,r,i){"string"==typeof n&&(n=v.times[n]),r=r||"linear";for(var s=e?0:1,o=e?1:0,a=0,l=t.length;a<l;a++)t[a].style.opacity=s;return setTimeout(function(){for(var e=0,i=t.length;e<i;e++)t[e].$$jqliteTransition=void 0===t[e].$$jqliteTransition?t[e].style[G]||"":t[e].$$jqliteTransition,t[e].style[G]="opacity "+n+"ms "+r,t[e].style.opacity=o},20),setTimeout(function(){for(var e=0,n=t.length;e<n;e++)t[e].style.opacity="",t[e].style[G]=t[e].$$jqliteTransition;i.call(t)},n),t}function b(t,e,n,r){var i,s;if("string"==typeof e)if(/\s/.test(e))e=e.split(/\s+/g);else{if(!y(n))throw"listener needs to be a function";for(i=0,s=t.length;i<s;i++)o(t[i],e,n,r)}if(C(e))for(i=0,s=e.length;i<s;i++)b(t,e[i],n,r);else if(m(e))for(i in e)b(t,i,e[i],r);return t}function g(t,e){for(e=e.parentnode||e.parentElement;e;){if(e===t)return!0;e=e.parentnode||e.parentElement}return!1}var m=e("object"),y=e("function"),w=e("string"),_=e("number"),k=e("boolean"),C=Array.isArray||n(Array),L=n(Date),x=n(RegExp),$=function(t){return t&&1===t.nodeType},E=function(t,e){if(!(e instanceof Function)){var n=e;e=function(t){return t===n}}for(var r=0,i=t.length;r<i;r++)if(e(t[r]))return{index:r,found:t[r]};return{index:-1}},S=Array.prototype.shift,M=function(t){if(t.matchesSelector)return"matchesSelector";if(t.webkitMatchesSelector)return"webkitMatchesSelector";if(t.mozMatchesSelector)return"mozMatchesSelector";if(t.msMatchesSelector)return"msMatchesSelector";if(t.oMatchesSelector)return"oMatchesSelector";throw new Error("your browser does not support matchesSelector")}(Element.prototype),T=document.createEvent?function(t,e,n,r){var i=document.createEvent("HTMLEvents");return i.data=r,i.args=n,i.initEvent(e,!0,!0),t.dispatchEvent(i),i}:function(t,e,n,r){var i=document.createEventObject();return i.data=r,i.args=n,t.fireEvent("on"+e,i),i},q=eval,A=document.createElement("div"),B=document.createElement("div"),F=!!A.classList;if(!A.addEventListener&&!document.body.attachEvent)throw"Browser not compatible with element events";var j=A.addEventListener?function(t,e,n){return t.addEventListener(e,n,!1)}:function(t,e,n){return t.attachEvent("on"+e,n)},H=A.removeEventListener?function(t,e,n){return t.removeEventListener(e,n,!1)}:function(t,e,n){return t.detachEvent("on"+e,n)},R=/^[a-z-_]$/i;u.noop=function(){},u.extend=function(t){var e=[].slice.call(arguments);k(t)?e.shift():t=!1,t?r.apply(null,e):i.apply(null,e)},u.isObject=m,u.isFunction=y,u.isString=w,u.isNumber=_,u.isBoolean=k,u.isArray=C,u.isDate=L,u.isRegExp=x,u.isElement=$;var I=u,N=window.addEventListener?function(t){window.addEventListener("load",t,!1)}:function(t){window.attachEvent("onload",t)};u.ready=c,(p.prototype=Object.create(Array.prototype)).ready=c,p.prototype.extend=function(t){var e=[].slice.call(arguments);k(t)?e.shift():t=!1,t?r.apply(null,[p.prototype].concat(e)):i.apply(null,[p.prototype].concat(e))},u.fn=p.prototype,p.prototype.get=function(t){return t?this[t]:this},p.prototype.eq=function(t){if(!_(t))throw"number required";var e=t<0?this[this.length-t]:this[t],n=new p;return e&&(n[0]=e,n.length=1),n},p.prototype.first=function(){var t=new p;return this.length&&(t[0]=this[0],t.length=1),t},p.prototype.last=function(){var t=new p;return this.length&&(t[0]=this[this.length-1],t.length=1),t},p.prototype.find=function(t){var e,n,r,i,s,o=this,a=new p,l=0;if(!t)return o;for(/^\s*>/.test(t)&&(t=t.replace(/^\s*>\s*([^\s]*)\s*/,function(t,e){return o=o.children(e),""})),e=0,r=o.length;e<r;e++)for(n=0,i=(s=o[e].querySelectorAll(t)).length;n<i;n++)a[l++]=s[n];return a.length=l,f(a)},p.prototype.$=p.prototype.find,p.prototype.add=function(t,e){var n,r,i=u(t,e),s=this.length,o=new p;for(n=0,r=this.length;n<r;n++)o[n]=this[n];for(n=0,r=i.length;n<r;n++)o[s++]=i[n];return o.length=s,f(o)},p.prototype.each=function(t){if(y(t))for(var e=0,n=this.length;e<n;e++)t.call(this[e],e,this[e]);return this},p.prototype.empty=function(){for(var t,e,n=0,r=this.length;n<r;n++)for(e=(t=this[n]).firstChild;e;)t.removeChild(e),e=t.firstChild;return this},p.prototype.filter=function(t){var e,n,r,i=new p;if(y(t))for(n=0,r=this.length,e;n<r;n++)e=this[n],t.call(e,n,e)&&i.push(e);else if(w(t))for(n=0,r=this.length,e;n<r;n++)(e=this[n])[M](t)&&i.push(e);return i};var U=A.closest?function(t,e){return t.closest(e)}:function(t,e){for(var n=t.parentElement;n;){if(n[M](e))return n;n=n.parentElement}return null};p.prototype.closest=function(t){var e,n=new p,r=0;if(!t)return this;for(var i=0,s=this.length;i<s;i++)(e=U(this[i],t))&&(n[r++]=e);return n.length=r,f(n)},p.prototype.children=A.children?function(t){for(var e=new p,n=0,r=this.length;n<r;n++)a(e,this[n].children);return t?e.filter(t):e}:function(t){var e=new p;return Array.prototype.forEach.call(this,function(t){for(t=t.firstElementChild||t.firstChild;t;)e[e.length]=t,t=t.nextElementSibling||t.nextSibling}),t?e.filter(t):e},p.prototype.parent=function(t){for(var e=new p,n=0,r=0,i=this.length;r<i;r++)this[r].parentElement&&(e[n++]=this[r].parentElement);return e.length=n,f(t?e.filter(t):e)},p.prototype.contents=function(t){var e=new p;return Array.prototype.forEach.call(this,function(t){for(t=t.firstChild;t;)e[e.length]=t,t=t.nextSibling}),t?e.filter(t):e},p.prototype.clone=function(t,e){var n,r,i=new p;for(t=void 0===t||t,n=0,r=this.length;n<r;n++)i[n]=this[n].cloneNode(t);return i.length=r,i},p.prototype.data=function(t,e){if(!this.length)return e?this:void 0;if(void 0===e){var n=this[0].$$jqliteData&&this[0].$$jqliteData[t];return void 0===n?(n=this.dataset(t),void 0===n?void 0:"{"===n.charAt(0)||"["===n.charAt(0)?JSON.parse(n):/^\d+$/.test(n)?Number(n):n):n}for(var r=0,i=this.length;r<i;r++)this[r].$$jqliteData=this[r].$$jqliteData||{},this[r].$$jqliteData[t]=e},p.prototype.removeData=function(t){for(var e=0,n=this.length;e<n;e++)this[e].$$jqliteData&&this[e].$$jqliteData[t]&&delete this[e].$$jqliteData[t];return this},p.prototype.dataset=A.dataset?function(t,e){var n,r;if(void 0===e)return void 0===t?this[0]?this[0].dataset:{}:(this[0]||{}).dataset[t];for(n=0,r=this.length;n<r;n++)this[n].dataset[t]=e;return this}:function(t,e){var n,r;if(void 0===e){var i=[];for(n=0,r=this.length;n<r;n++)i.push(this[n].getAttribute("data-"+t));return(this[0]||{getAttribute:function(){return!1}}).getAttribute(t)}for(n=0,r=this.length;n<r;n++)this[n].setAttribute("data-"+t,e)},p.prototype.removeDataset=A.dataset?function(t){var e,n;if("string"==typeof t)for(e=0,n=this.length;e<n;e++)delete this[e].dataset[t];else if(C(t))for(e=0,n=t.length;e<n;e++)this.removeData(t[e]);return this}:function(t){var e,n;if("string"==typeof t)for(e=0,n=this.length;e<n;e++)this[e].removeAttribute("data-"+t);else if(C(t))for(e=0,n=t.length;e<n;e++)this.removeData(t[e]);return this},p.prototype.attr=function(t,e){var n,r;if(y(e))for(n=0,r=this.length;n<r;n++)this[n].setAttribute(t,e(n,this[n].getAttribute(t)));else if(void 0!==e)for(n=0,r=this.length;n<r;n++)this[n].setAttribute(t,e);else if(this[0])return this[0].getAttribute(t);return this},p.prototype.removeAttr=function(t){for(var e=0,n=this.length;e<n;e++)this[e].removeAttribute(t);return this},p.prototype.prop=function(t,e){var n,r;if(y(e))for(n=0,r=this.length;n<r;n++)this[n][t]=e(n,this[n][t]);else if(void 0!==e)for(n=0,r=this.length;n<r;n++)this[n][t]=e;else if(this[0])return this[0][t];return this},p.prototype.val=function(t){var e;if(void 0===t)return e=this[0],"select"===e.nodeName?e.options[e.selectedIndex].value:this[0].value||this[0].getAttribute("value");for(var n=0,r=this.length;n<r;n++)if("select"===this[n].nodeName){for(var i=0,s=(e=this[n]).options.length;i<s;i++)if(e.options[i].value===t){e.options[i].selected=!0;break}}else void 0!==this[n].value?this[n].value=t:this[n].setAttribute("value",t);return this};var D=F?function(t,e){return t.classList.contains(e)}:function(t,e){return new RegExp("\\b"+(e||"")+"\\b","").test(t.className)},Z=F?function(t,e){t.classList.add(e)}:function(t,e){D(t,e)||(t.className+=" "+e)},P=F?function(t,e){t.classList.remove(e)}:function(t,e){t.className=t.className.replace(new RegExp("\\s*"+e+"\\s*","g")," ")};p.prototype.addClass=function(t){var e,n;if(t instanceof Function)for(e=0,n=this.length;e<n;e++)Z(this[e],t.call(this[e],e,this[e].className));else if(t.indexOf(" ")>=0)t.split(/\s+/).forEach(function(t){for(var e=0,n=this.length;e<n;e++)Z(this[e],t)}.bind(this));else for(e=0,n=this.length;e<n;e++)Z(this[e],t);return this},p.prototype.removeClass=function(t){var e,n;if(t instanceof Function)for(e=0,n=this.length;e<n;e++)P(this[e],t.call(this[e],e,this[e].className));else if(t.indexOf(" ")>=0)t.split(/\s+/).forEach(function(t){for(var e=0,n=this.length;e<n;e++)P(this[e],t)}.bind(this));else for(e=0,n=this.length;e<n;e++)P(this[e],t);return this},p.prototype.hasClass=function(t){for(var e=0,n=this.length;e<n;e++)if(D(this[e],t))return!0;return!1},p.prototype.toggleClass=function(t,e){var n,r,i,s;if(t instanceof Function)for(n=0,r=this.length;n<r;n++)s=t.call(this[n],n,this[n].className,e),((i=void 0===e?!D(this[n],s):e)?Z:P)(this[n],s);else if(t.indexOf(" ")>=0)t.split(/\s+/).forEach(function(t){for(n=0,r=this.length;n<r;n++)((i=void 0===e?!D(this[n],t):e)?Z:P)(this[n],t)}.bind(this));else for(n=0,r=this.length;n<r;n++)((i=void 0===e?!D(this[n],t):e)?Z:P)(this[n],t);return this},p.prototype.append=function(t){var e,n,r,i,s,o,a=I(t);for(a.remove(),n=0,i=this.length;n<i;n++)for(e=n?a.clone(!0):a,o=this[n],r=0,s=e.length;r<s;r++)o.appendChild(e[r]);return this},p.prototype.appendTo=function(t){I(t).append(this)},p.prototype.prepend=function(t){var e,n,r,i,s,o,a,l=I(t);for(l.remove(),n=0,i=this.length;n<i;n++)if(e=n?l.clone(!0):l,o=this[n],a=o.firstChild)for(r=0,s=e.length;r<s;r++)o.insertBefore(e[r],a);else for(r=0,s=e.length;r<s;r++)o.appendChild(e[r]);return this},p.prototype.before=function(t){var e,n,r,i,s,o,a=I(t);for(a.remove(),n=0,i=this.length;n<i;n++)for(e=n?a.clone(!0):a,o=this[n].parentElement||this[n].parentNode,r=0,s=e.length;r<s;r++)o.insertBefore(e[r],this[n]);return this},p.prototype.after=function(t){var e,n,r,i,s,o,a,l=I(t);for(l.remove(),n=0,i=this.length;n<i;n++)if(e=n?l.clone(!0):l,a=this[n].parentElement||this[n].parentNode,o=this[n].nextElementSibling||this[n].nextSibling)for(r=0,s=e.length;r<s;r++)a.insertBefore(e[r],o),o=e[r];else for(r=0,s=e.length;r<s;r++)a.appendChild(e[r]);return this},p.prototype.replaceWith=function(t){var e,n,r,i,s,o,a,l=I(t);if(!l.length)return this;for(n=this.length-1;n>=0;n--)if(e=n?l.clone(!0):l,s=this[n],(o=s.parentElement).replaceChild(e[0],s),e[1])if(a=e[0].nextElementSibling)for(r=1,i=e.length;r<i;r++)o.insertBefore(e[r],a);else for(r=1,i=e.length;r<i;r++)o.appendChild(e[r]);return this},p.prototype.wrap=function(t){var e=y(t)?function(e){return I(t(e))}:function(){var e=I(t),n=e.clone(!0);return function(t){return t?n.clone(!0):e}}();return this.each(function(t){for(var n=e(t)[0],r=this.parentElement,i=n;i.firstElementChild;)i=i.firstElementChild;r&&(r.replaceChild(n,this),i.appendChild(this))}),this},p.prototype.wrapAll=function(t){var e=I(y(t)?t():t)[0];if(this[0].parentElement.replaceChild(e,this[0]),e)for(;e.firstElementChild;)e=e.firstElementChild;for(var n=0,r=this.length;n<r;n++)e.appendChild(this[n]);return I(e)},p.prototype.unwrap=function(){for(var t,e=this.parent(),n=0,r=e.length;n<r;n++)(t=e.eq(n)).replaceWith(t.children());return this},p.prototype.next=function(t){for(var e,n=new p,r=0,i=0,s=this.length;i<s;i++)(e=this[i].nextElementSibling)&&(n[r++]=e);return n.length=r,"string"==typeof t?n.filter(t):n},p.prototype.nextAll=function(t){for(var e,n=new p,r=0,i=0,s=this.length;i<s;i++)for(e=this[i].nextElementSibling;e;)n[r++]=e,e=e.nextElementSibling;return n.length=r,f(t?n.filter(t):n)},p.prototype.prev=function(t){for(var e,n=new p,r=0,i=0,s=this.length;i<s;i++)(e=this[i].previousElementSibling)&&(n[r++]=e);return n.length=r,t?n.filter(t):n},p.prototype.prevAll=function(t){for(var e=new p,n=0,r=0,i=this.length;r<i;r++)n=d(e,this[r].previousElementSibling,n);return e.length=n,f(t?e.filter(t):e)},p.prototype.remove=function(t){for(var e,n=t?this.filter(t):this,r=0,i=n.length;r<i;r++)(e=n[r].parentElement||n[r].parentNode)&&e.removeChild(n[r]);return this},p.prototype.detach=function(t){for(var e=t?this.filter(t):this,n=new p,r=0,i=e.length;r<i;r++)B.appendChild(e[r]),n.push(e[r]);return n},p.prototype.css=function(t,e){if(void 0!==e){var n,r;if("string"==typeof(e=e instanceof Function?e():e instanceof Number?e+"px":e)&&/^\+=|\-=/.test(e))for(e="-"===e.charAt(0)?-parseFloat(e.substr(2)):parseFloat(e.substr(2)),n=0,r=this.length;n<r;n++)this[n].style[t]=parseFloat(this[n].style[t])+e+"px";else for(n=0,r=this.length;n<r;n++)this[n].style[t]=e;return this}if(t instanceof Object)for(var i in t)this.css(i,t[i]);else if(this[0])return this[0].style[t]||window.getComputedStyle(this[0])[t];return this};var G=void 0!==A.style.webkitTransition?"webkitTransition":void 0!==A.style.mozTransition?"mozTransition":void 0!==A.style.msTransition?"msTransition":void 0;v.times={slow:600,normal:400,fast:200},p.prototype.show=function(t,e,n){if(t){var r=this;return this.show(),v(r,!0,t,e,n||function(){})}for(var i=0,s=this.length;i<s;i++)this[i].style.display&&(this[i].style.display="");return this},p.prototype.hide=function(t,e,n){if(t)return v(this,!1,t,e,function(){this.hide(),n&&n.call(this)});for(var r=0,i=this.length;r<i;r++)this[r].style.display="none";return this},p.prototype.position=function(){if(this.length)return{top:this[0].offsetTop,left:this[0].offsetLeft}},p.prototype.offset=function(t){if(void 0===t){var e=this[0].getBoundingClientRect();return this.length&&{top:e.top+document.body.scrollTop,left:e.left}}if(t instanceof Function&&(t=t()),"object"==typeof t&&void 0!==t.top&&void 0!==t.left){for(var n=0,r=this.length;n<r;n++){this[n].style.position="relative";var i=this[n].getBoundingClientRect();this[n].style.top=t.top-i.top+parseFloat(this[n].style.top||0)-document.body.scrollTop+"px",this[n].style.left=t.left-i.left+parseFloat(this[n].style.left||0)+"px"}return t}},p.prototype.width=function(t){var e;if(!0===t){if(this.length)return(e=this[0]).offsetWidth}else if(void 0!==t)for(var n=0,r=this.length;n<r;n++)this[n].style.width=t;else if(this.length)return(e=this[0]).offsetWidth-parseFloat(window.getComputedStyle(e,null).getPropertyValue("border-left-width"))-parseFloat(window.getComputedStyle(e,null).getPropertyValue("padding-left"))-parseFloat(window.getComputedStyle(e,null).getPropertyValue("padding-right"))-parseFloat(window.getComputedStyle(e,null).getPropertyValue("border-right-width"))},p.prototype.height=function(t){var e;if(!0===t){if(this.length)return(e=this[0]).offsetHeight}else if(void 0!==t)for(var n=0,r=this.length;n<r;n++)this[n].style.height=t;else if(this.length)return(e=this[0]).offsetHeight-parseFloat(window.getComputedStyle(e,null).getPropertyValue("border-top-width"))-parseFloat(window.getComputedStyle(e,null).getPropertyValue("padding-top"))-parseFloat(window.getComputedStyle(e,null).getPropertyValue("padding-bottom"))-parseFloat(window.getComputedStyle(e,null).getPropertyValue("border-bottom-width"))},p.prototype.html=function(t){var e,n;if(void 0===t){for(t="",e=0,n=this.length;e<n;e++)t+=this[e].innerHTML;return t}if(!0===t){for(t="",e=0,n=this.length;e<n;e++)t+=this[e].outerHTML;return t}if(y(t)){for(e=0,n=this.length;e<n;e++)this[e].innerHTML=t(e,this[e].innerHTML);return this}for(e=0,n=this.length;e<n;e++)this[e].innerHTML=t;return this.find("script").each(function(){if(("text/javascript"==this.type||!this.type)&&this.textContent)try{q("(function(){ 'use strict';"+this.textContent+"})();")}catch(t){throw new Error(t.message)}}),this},p.prototype.text=function(t){var e,n;if(void 0===t){for(t="",e=0,n=this.length;e<n;e++)t+=this[e].textContent;return t}if(y(t)){for(e=0,n=this.length;e<n;e++)this[e].textContent=t(e,this[e].textContent);return this}for(e=0,n=this.length;e<n;e++)this[e].textContent=t;return this},p.prototype.on=function(t,e){return b(this,t,e)};var V={list:["click","focus","blur","submit"],define:function(t){p.prototype[t]=function(e){if(e)this.on(t,e);else for(var n=0,r=this.length;n<r;n++)this[n][t]();return this}},init:function(){for(var t=0,e=V.list.length;t<e;t++)V.define(V.list[t])}};return V.init(),p.prototype.once=function(t,e){return b(this,t,e,!0)},p.prototype.one=p.prototype.once,p.prototype.off=function(t,e){var n,r;if(/\s/.test(t)&&(t=t.split(/\s+/g)),t instanceof Array){for(n=0,r=this.length;n<r;n++)this.off(t[n],e);return this}if(void 0===t){var i,o;for(n=0,r=this.length;n<r;n++){i=this[n].$$jqListeners||{};for(o in i)s(this[n],o),delete i[o]}}else if("string"!=typeof t||!y(e)&&void 0!==e)throw"bad arguments";for(n=0,r=this.length;n<r;n++)s(this[n],t,e);return this},p.prototype.trigger=function(t,e,n){if("string"!=typeof t)throw"bad arguments";for(var r=0,i=this.length;r<i;r++)T(this[r],t,e,n);return this},p.prototype.stopPropagation=function(){for(var t=0,e=arguments.length;t<e;t++)this.on(arguments[t],function(t){t.stopPropagation()})},["mouseenter","mouseleave"].forEach(function(t){p.prototype[t]=function(e){return this.on(t,e),this}}),p.prototype.hover=function(t,e){return this.mouseenter(t).mouseleave(e)},u.noConflict=function(){return t.$===u&&delete t.$,u},u.contains=function(t,e){if(arguments.length<2)throw new Error("2 arguments required");return t.contains?t.contains(e):g(t,e)},u}),function t(e,n,r){function i(o,a){if(!n[o]){if(!e[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(s)return s(o,!0);throw new Error("Cannot find module '"+o+"'")}var h=n[o]={exports:{}};e[o][0].call(h.exports,function(t){var n=e[o][1][t];return i(n||t)},h,h.exports,t,e,n,r)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(t,e){function n(t,e,n){this.widget=t,this.likely=e,this.options=o.merge(n),this.init()}var r=t("./services"),i=t("./config"),s=t("./fetch"),o=t("./utils"),a=t("./dom"),l='<span class="{className}">{content}</span>';n.prototype={init:function(){this.detectService(),this.detectParams(),this.service&&(this.initHtml(),setTimeout(this.initCounter.bind(this),0))},update:function(t){var e="."+i.prefix+"counter";counters=a.findAll(e,this.widget),o.extend(this.options,o.merge({forceUpdate:!1},t)),o.toArray(counters).forEach(function(t){t.parentNode.removeChild(t)}),this.initCounter()},detectService:function(){var t=this.widget,e=o.getDataset(t).service;if(!e){for(var n=t.className.split(" "),i=0;i<n.length&&!(n[i]in r);i++);e=n[i]}e&&(this.service=e,o.extend(this.options,r[e]))},detectParams:function(){var t=this.options,e=o.getDataset(this.widget);if(e.counter){var n=parseInt(e.counter,10);isNaN(n)?t.counterUrl=e.counter:t.counterNumber=n}t.title=e.title||t.title,t.url=e.url||t.url},initHtml:function(){var t=this.options,e=this.widget,n=e.innerHTML;e.addEventListener("click",this.click.bind(this)),e.classList.remove(this.service),e.className+=" "+this.className("widget");var r=o.template(l,{className:this.className("button"),content:n}),i=o.template(l,{className:this.className("icon"),content:a.wrapSVG(t.svgi)});e.innerHTML=i+r},initCounter:function(){var t=this.options;t.counters&&t.counterNumber?this.updateCounter(t.counterNumber):t.counterUrl&&s(this.service,t.url,t)(this.updateCounter.bind(this))},className:function(t){var e=i.prefix+t;return e+" "+e+"--"+this.service},updateCounter:function(t){t=parseInt(t,10)||0;var e=a.find("."+i.name+"__counter",this.widget);e&&e.parentNode.removeChild(e);var n={className:this.className("counter"),content:t};t||this.options.zeroes||(n.className+=" "+i.prefix+"counter--empty",n.content=""),this.widget.appendChild(a.createNode(o.template(l,n))),this.likely.updateCounter(this.service,t)},click:function(){var t=this.options;if("more"==this.service)this.widget.classList.toggle("active"),this.widget.parentElement.classList.toggle(this.options.className);else if("email"==this.service){r=o.makeUrl(t.popupUrl,{url:t.url,title:t.title});window.location=r}else if(t.click.call(this)){var e=this.likely.container.dataset.twitter,n=this.likely.container.dataset.twitterUrl,r=o.makeUrl(t.popupUrl,{url:"twitter"==this.service&&""!=n&&void 0!=n?n:t.url,title:"twitter"==this.service&&""!=e&&void 0!=e?e:t.title});a.openPopup(this.addAdditionalParamsToUrl(r),i.prefix+this.service,t.popupWidth,t.popupHeight)}return!1},addAdditionalParamsToUrl:function(t){var e=o.query(o.merge(this.widget.dataset,this.options.data)),n=-1===t.indexOf("?")?"?":"&";return""===e?t:t+n+e}},e.exports=n},{"./config":2,"./dom":3,"./fetch":6,"./services":12,"./utils":22}],2:[function(t,e){var n="https:"===window.location.protocol;e.exports={name:"likely",prefix:"likely__",secure:n,protocol:n?"https:":"http:"}},{}],3:[function(t,e){var n=document.createElement("div"),r=0,i=e.exports={wrapSVG:function(t){return'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M'+t+'z"/></svg>'},createNode:function(t){return n.innerHTML=t,n.children[0]},getScript:function(t){var e=document.createElement("script"),n=document.head;e.type="text/javascript",e.src=t,n.appendChild(e),n.removeChild(e)},getJSON:function(t,e){var n=encodeURIComponent("random_fun_"+ ++r);t=t.replace(/callback=(\?)/,"callback="+n),window[n]=e,i.getScript(t)},find:function(t,e){return(e||document).querySelector(t)},findAll:function(t,e){return(e||document).querySelectorAll(t)},openPopup:function(t,e,n,r){var i=Math.round(screen.width/2-n/2),s=0;screen.height>r&&(s=Math.round(screen.height/3-r/2));var o="left="+i+",top="+s+",width="+n+",height="+r+",personalbar=0,toolbar=0,scrollbars=1,resizable=1",a=window.open(t,e,o);return a?(a.focus(),a):location.href=t}}},{}],4:[function(t,e){e.exports=function(t){var e=[];return function(n){var r=typeof n;return"undefined"==r?t:void("function"==r?e.push(n):(t=n,e.forEach(function(t){t(n)})))}}},{}],5:[function(t){var e=t("./index.js");window.likely=e,document.addEventListener("DOMContentLoaded",e.initiate)},{"./index.js":7}],6:[function(t,e){var n=t("./services"),r=t("./factory"),i=t("./utils"),s=(t("./dom"),{});e.exports=function(t,e,o){s[t]||(s[t]={});var a=s[t],l=a[e];if(!o.forceUpdate&&l)return l;l=r();var h=i.makeUrl(o.counterUrl,{url:e});return n[t].counter(h,l,e),a[e]=l}},{"./dom":3,"./factory":4,"./services":12,"./utils":22}],7:[function(t,e){"use strict";var n=t("./widget"),r=t("./config"),i=t("./utils"),s=t("./dom"),o=function(t,e){e=e||{};var s=t[r.name];return s?s.update(e):t[r.name]=new n(t,i.merge({},o.defaults,e,i.bools(t))),s};o.initiate=o.initate=function(){var t=s.findAll("."+r.name);i.toArray(t).forEach(o)},o.defaults={counters:!0,timeout:1e3,zeroes:!1,title:document.title,wait:500,url:window.location.href.replace(window.location.hash,"")},e.exports=o},{"./config":2,"./dom":3,"./utils":22,"./widget":23}],8:[function(t,e){var n=t("./dom"),r=function(t,e){var r=this;n.getJSON(t,function(t){try{"function"==typeof r.convertNumber&&(t=r.convertNumber(t)),e(t)}catch(t){}})};e.exports=function(t){t.counter=t.counter||r,t.click=t.click||function(){return!0}}},{"./dom":3}],9:[function(t,e){var n=(t("../config"),{popupUrl:"mailto:?subject={title}&body={url}",popupWidth:0,popupHeight:0});e.exports=n},{"../config":2}],10:[function(t,e){e.exports={counterUrl:"https://graph.facebook.com/?fields=share,og_object{likes.limit(0).summary(true),comments.limit(0).summary(true)}&id={url}&callback=?",convertNumber:function(t){return t.share.share_count},popupUrl:"https://www.facebook.com/sharer/sharer.php?u={url}",popupWidth:600,popupHeight:500}},{}],11:[function(t,e){var n=(t("../config"),t("../utils"),t("../dom"),{gid:0,promises:{},popupUrl:"https://plus.google.com/share?url={url}",popupWidth:700,popupHeight:500});e.exports=n},{"../config":2,"../dom":3,"../utils":22}],12:[function(t,e){var n=t("../service"),r=t("../utils"),i=t("../svg.json"),s={odnoklassniki:t("./odnoklassniki"),vkontakte:t("./vk"),facebook:t("./facebook"),twitter:t("./twitter"),gplus:t("./gplus"),pocket:t("./pocket"),telegram:t("./telegram"),whatsapp:t("./whatsapp"),viber:t("./viber"),email:t("./email"),more:t("./more")};r.each(s,function(t,e){n(t),t.svgi=i[e],t.name=e}),e.exports=s},{"../service":8,"../svg.json":21,"../utils":22,"./email":9,"./facebook":10,"./gplus":11,"./more":13,"./odnoklassniki":14,"./pocket":15,"./telegram":16,"./twitter":17,"./viber":18,"./vk":19,"./whatsapp":20}],13:[function(t,e){var n=t("../config");e.exports={parent:n.name,className:n.name+"--expanded"}},{"../config":2}],14:[function(t,e){var n=t("../config"),r=t("../utils"),i=t("../dom"),s={counterUrl:n.secure?void 0:"http://connect.ok.ru/dk?st.cmd=extLike&ref={url}&uid={index}",counter:function(t,e){this.promises.push(e),i.getScript(r.makeUrl(t,{index:this.promises.length-1}))},promises:[],popupUrl:"http://connect.ok.ru/dk?st.cmd=WidgetSharePreview&service=odnoklassniki&st.shareUrl={url}",popupWidth:640,popupHeight:400};r.set(window,"ODKL.updateCount",function(t,e){s.promises[t](e)}),e.exports=s},{"../config":2,"../dom":3,"../utils":22}],15:[function(t,e){var n={popupUrl:t("../config").protocol+"//getpocket.com/save?url={url}&format=json&callback=?",popupWidth:600,popupHeight:300};e.exports=n},{"../config":2}],16:[function(t,e){e.exports={popupUrl:"tg://msg?text={title}%0A{url}",popupWidth:600,popupHeight:450}},{}],17:[function(t,e){var n={popupUrl:t("../config").protocol+"//twitter.com/intent/tweet?url={url}&text={title}",popupWidth:600,popupHeight:450,click:function(){return/[\.\?:\-–—]\s*$/.test(this.options.title)||(this.options.title+=":"),!0}};e.exports=n},{"../config":2}],18:[function(t,e){e.exports={popupUrl:"viber://forward?text={title}%0A{url}",popupWidth:600,popupHeight:450}},{}],19:[function(t,e){var n=t("../config"),r=t("../utils"),i=t("../dom"),s={counterUrl:"https://vk.com/share.php?act=count&url={url}&index={index}",counter:function(t,e){this.promises.push(e),i.getScript(r.makeUrl(t,{index:this.promises.length-1}))},promises:[],popupUrl:n.protocol+"//vk.com/share.php?url={url}&title={title}",popupWidth:550,popupHeight:330};r.set(window,"VK.Share.count",function(t,e){s.promises[t](e)}),e.exports=s},{"../config":2,"../dom":3,"../utils":22}],20:[function(t,e){e.exports={popupUrl:"whatsapp://send?text={title}%0A{url}",popupWidth:600,popupHeight:450}},{}],21:[function(t,e){e.exports={facebook:"5.9 16h3.3V8h2.2l.3-2.8H9.2V3.8c0-.7.1-1.1 1.1-1.1h1.4V0H9.5C6.9 0 5.9 1.3 5.9 3.6v1.7H4.3V8H6v8",twitter:"15.96 3.42c-.04.153-.144.31-.237.414l-.118.058v.118l-.59.532-.237.295c-.05.036-.398.21-.413.237V6.49h-.06v.473h-.058v.294h-.058v.296h-.06v.235h-.06v.237h-.058c-.1.355-.197.71-.295 1.064h-.06v.116h-.06c-.02.1-.04.197-.058.296h-.06c-.04.118-.08.237-.118.355h-.06c-.038.118-.078.236-.117.353l-.118.06-.06.235-.117.06v.116l-.118.06v.12h-.06c-.02.057-.038.117-.058.175l-.118.06v.117c-.06.04-.118.08-.177.118v.118l-.237.177v.118l-.59.53-.532.592h-.117c-.06.078-.118.156-.177.236l-.177.06-.06.117h-.118l-.06.118-.176.06v.058h-.118l-.06.118-.353.12-.06.117c-.078.02-.156.04-.235.058v.06c-.118.038-.236.078-.354.118v.058H8.76v.06h-.12v.06h-.176v.058h-.118v.06H8.17v.058H7.99v.06l-.413.058v.06h-.237c-.667.22-1.455.293-2.36.293h-.886v-.058h-.53v-.06H3.27v-.06h-.295v-.06H2.68v-.057h-.177v-.06h-.236v-.058H2.09v-.06h-.177v-.058h-.177v-.06H1.56v-.058h-.12v-.06l-.294-.06v-.057c-.118-.04-.236-.08-.355-.118v-.06H.674v-.058H.555v-.06H.437v-.058H.32l-.06-.12H.142v-.058c-.13-.08-.083.026-.177-.118H1.56v-.06c.294-.04.59-.077.884-.117v-.06h.177v-.058h.237v-.06h.118v-.06h.177v-.057h.118v-.06h.177v-.058l.236-.06v-.058l.236-.06c.02-.038.04-.078.058-.117l.237-.06c.02-.04.04-.077.058-.117h.118l.06-.118h.118c.036-.025.047-.078.118-.118V12.1c-1.02-.08-1.84-.54-2.303-1.183-.08-.058-.157-.118-.236-.176v-.117l-.118-.06v-.117c-.115-.202-.268-.355-.296-.65.453.004.987.008 1.354-.06v-.06c-.254-.008-.47-.08-.65-.175v-.058H2.32v-.06c-.08-.02-.157-.04-.236-.058l-.06-.118h-.117l-.118-.178h-.12c-.077-.098-.156-.196-.235-.294l-.118-.06v-.117l-.177-.12c-.35-.502-.6-1.15-.59-2.006h.06c.204.234.948.377 1.357.415v-.06c-.257-.118-.676-.54-.827-.768V5.9l-.118-.06c-.04-.117-.08-.236-.118-.354h-.06v-.118H.787c-.04-.196-.08-.394-.118-.59-.06-.19-.206-.697-.118-1.005h.06V3.36h.058v-.177h.06v-.177h.057V2.83h.06c.04-.118.078-.236.117-.355h.118v.06c.12.097.237.196.355.295v.118l.118.058c.08.098.157.197.236.295l.176.06.354.413h.118l.177.236h.118l.06.117h.117c.04.06.08.118.118.177h.118l.06.118.235.06.06.117.356.12.06.117.53.176v.06h.118v.058l.236.06v.06c.118.02.236.04.355.058v.06h.177v.058h.177v.06h.176v.058h.236v.06l.472.057v.06l1.417.18v-.237c-.1-.112-.058-.442-.057-.65 0-.573.15-.99.354-1.358v-.117l.118-.06.06-.235.176-.118v-.118c.14-.118.276-.236.414-.355l.06-.117h.117l.12-.177.235-.06.06-.117h.117v-.058H9.7v-.058h.177v-.06h.177v-.058h.177v-.06h.296v-.058h1.063v.058h.294v.06h.177v.058h.178v.06h.177v.058h.118v.06h.118l.06.117c.08.018.158.038.236.058.04.06.08.118.118.177h.118l.06.117c.142.133.193.163.472.178.136-.12.283-.05.472-.118v-.06h.177v-.058h.177v-.06l.236-.058v-.06h.177l.59-.352v.176h-.058l-.06.295h-.058v.117h-.06v.118l-.117.06v.118l-.177.118v.117l-.118.06-.354.412h-.117l-.177.236h.06c.13-.112.402-.053.59-.117l1.063-.353",vkontakte:"7.8 12.4h.9s.3 0 .4-.2c.1-.1.1-.4.1-.4s0-1.3.6-1.4c.6-.2 1.3 1.2 2.1 1.7.6.4 1 .3 1 .3H15s1.1-.1.6-.9c0-.1-.3-.6-1.6-1.8-1.3-1.2-1.1-1 .4-3.1 1-1.3 1.3-2.1 1.2-2.4.1-.3-.6-.3-.6-.3h-2.4s-.2 0-.3.1c-.1.1-.2.3-.2.3s-.4 1-.9 1.8c-1 1.8-1.5 1.9-1.6 1.8-.4-.3-.3-1-.3-1.6 0-1.7.3-2.4-.5-2.6-.3-.1-.4-.2-1.1-.2-.8 0-1.5 0-2 .2-.2.2-.4.5-.3.5.2 0 .5.1.7.3.2.3.2 1.1.2 1.1s.1 2-.3 2.3c-.3.1-.7-.2-1.7-1.8-.5-.8-.8-1.8-.8-1.8l-.2-.2-.4-.2H.7s-.3 0-.5.2c-.1.1 0 .4 0 .4S2 8.6 4 10.7c1.8 1.8 3.8 1.7 3.8 1.7",gplus:"8,6.5v3h4.291c-0.526,2.01-2.093,3.476-4.315,3.476C5.228,12.976,3,10.748,3,8c0-2.748,2.228-4.976,4.976-4.976c1.442,0,2.606,0.623,3.397,1.603L13.52,2.48C12.192,0.955,10.276,0,8,0C3.582,0,0,3.582,0,8s3.582,8,8,8s7.5-3.582,7.5-8V6.5H8",odnoklassniki:"8 2.6c.9 0 1.7.7 1.7 1.7C9.7 5.2 9 6 8 6c-.9 0-1.7-.7-1.7-1.7S7.1 2.6 8 2.6zm0 5.7c2.2 0 4-1.8 4-4s-1.8-4-4-4-4 1.8-4 4 1.8 4 4 4zm1.6 3.2c.8-.2 1.6-.5 2.3-1 .5-.3.7-1.1.4-1.6-.3-.6-1.1-.7-1.6-.4-1.6 1-3.8 1-5.4 0-.6-.3-1.3-.1-1.6.4-.4.6-.2 1.3.3 1.7.7.5 1.5.8 2.3 1l-2.2 2.2c-.5.5-.5 1.2 0 1.7.2.2.5.3.8.3.3 0 .6-.1.8-.3L8 13.2l2.2 2.2c.5.5 1.2.5 1.7 0s.5-1.2 0-1.7l-2.3-2.2",pocket:"12.533 6.864L8.77 10.4c-.213.2-.486.3-.76.3-.273 0-.547-.1-.76-.3L3.488 6.865c-.437-.41-.45-1.09-.032-1.52.42-.428 1.114-.443 1.55-.032l3.006 2.823 3.004-2.823c.438-.41 1.132-.396 1.55.032.42.43.406 1.11-.03 1.52zm3.388-4.928c-.207-.56-.755-.936-1.363-.936H1.45C.854 1 .31 1.368.096 1.917.032 2.08 0 2.25 0 2.422v4.73l.055.94c.232 2.14 1.366 4.01 3.12 5.314.03.024.063.047.094.07l.02.013c.94.673 1.992 1.13 3.128 1.353.524.104 1.06.157 1.592.157.492 0 .986-.045 1.472-.133.058-.01.116-.022.175-.034.016-.003.033-.01.05-.018 1.088-.233 2.098-.677 3.003-1.326l.02-.015c.032-.022.064-.045.096-.07 1.753-1.303 2.887-3.173 3.12-5.312l.054-.94v-4.73c0-.165-.02-.327-.08-.487",telegram:"12.4 4.2L6.6 9.6c-.2.2-.3.4-.4.7L6 11.8c0 .2-.3.2-.3 0l-.8-2.6c-.1-.4.1-.7.3-.8l7-4.3c.2-.2.4 0 .2.1zm2.9-3L.5 6.9c-.4.1-.4.7 0 .8L4.1 9l1.4 4.5c.1.3.4.4.7.2l2-1.6c.2-.2.5-.2.7 0l3.6 2.6c.3.2.6 0 .7-.3l2.6-12.8c.1-.2-.2-.5-.5-.4",whatsapp:"15.8 7.8c0 4.2-3.4 7.6-7.6 7.6-1.3 0-2.6-.3-3.7-.9L.3 15.8l1.4-4.1C1 10.6.6 9.2.6 7.8.6 3.6 4 .2 8.2.2c4.2 0 7.6 3.4 7.6 7.6M8.1 1.4c-3.5 0-6.4 2.9-6.4 6.4 0 1.4.5 2.7 1.2 3.7l-.8 2.4 2.5-.8c1 .7 2.2 1.1 3.5 1.1 3.5 0 6.4-2.9 6.4-6.4.1-3.5-2.8-6.4-6.4-6.4M12 9.5c0-.1-.2-.1-.4-.2s-1.1-.5-1.3-.6c-.2-.1-.3-.1-.4.1-.1.2-.4.6-.6.7-.1.1-.2.1-.4 0-.1 0-.8-.2-1.5-.8-.6-.5-.9-1.1-1-1.3-.1-.2 0-.3.1-.4l.3-.3c.1-.1.1-.2.2-.3 0-.2 0-.3-.1-.4 0-.1-.4-1-.6-1.4-.1-.3-.3-.2-.4-.2h-.4c-.1 0-.3 0-.5.2-.1.2-.6.6-.6 1.5s.7 1.8.8 1.9c.1.1 1.3 2.1 3.2 2.8 1.9.7 1.9.5 2.2.5.3 0 1.1-.4 1.3-.9.1-.4.1-.8.1-.9",viber:"13.7 6.7c0 .3.1.7-.3.8-.6.1-.5-.4-.5-.8-.4-2.3-1.2-3.2-3.5-3.7-.4-.1-.9 0-.8-.5.1-.5.5-.4.9-.3 2.3.3 4.2 2.3 4.2 4.5zM8.8 1.2c3.7.6 5.5 2.4 5.9 6.1 0 .3-.1.9.4.9s.4-.5.4-.9c0-3.6-3.1-6.8-6.7-7-.2.1-.8-.1-.8.5 0 .4.4.3.8.4zm5.7 10.2c-.5-.4-1-.7-1.5-1.1-1-.7-1.9-.7-2.6.4-.4.6-1 .6-1.6.4-1.7-.8-2.9-1.9-3.7-3.6-.3-.7-.3-1.4.5-1.9.4-.3.8-.6.8-1.2 0-.8-2-3.5-2.7-3.7-.3-.1-.6-.1-1 0C.9 1.2.2 2.7.9 4.4c2.1 5.2 5.8 8.8 11 11 .3.1.6.2.8.2 1.2 0 2.5-1.1 2.9-2.2.3-1-.5-1.5-1.1-2zM9.7 4c-.2 0-.5 0-.6.3-.1.4.2.5.5.5.9.2 1.4.7 1.5 1.7 0 .3.2.5.4.4.3 0 .4-.3.4-.6 0-1.1-1.2-2.3-2.2-2.3",email:"12.7 1c1 .5 1.8 1.2 2.3 2.2.5.9.8 1.9.8 3.1 0 .9-.1 1.8-.5 2.7-.3.9-.8 1.6-1.4 2.2-.6.6-1.4.9-2.3.9-.6 0-1.1-.2-1.5-.5-.4-.3-.6-.7-.7-1.2-.6 1.1-1.5 1.6-2.5 1.6-.8 0-1.5-.3-1.9-.8-.5-.6-.7-1.3-.7-2.2 0-.8.1-1.6.4-2.5S5.5 5 6.1 4.4c.7-.6 1.5-.8 2.6-.8.5 0 1 .1 1.4.2.5.1.9.3 1.3.6l-.7 4.9v.3c0 .2 0 .4.1.5.1.1.3.2.5.2.4 0 .8-.2 1.1-.7.3-.4.5-1 .7-1.6.1-.7.2-1.3.2-1.9 0-1.3-.4-2.3-1.1-3-.8-.7-1.9-1-3.4-1s-2.7.4-3.7 1.1c-.9.7-1.6 1.6-2 2.6S2.6 7.9 2.6 9c0 .9.2 1.8.6 2.5.4.7 1 1.3 1.7 1.7.7.4 1.7.6 2.7.6.5 0 1-.1 1.6-.2.6-.1 1.1-.3 1.5-.4l.4 1.9c-.6.2-1.2.4-1.8.5-.7.1-1.3.2-1.9.2-1.4 0-2.7-.3-3.8-.9s-1.9-1.4-2.5-2.4S.2 10.3.2 9c0-1.3.3-2.7 1-4 .6-1.4 1.6-2.5 3-3.4C5.5.7 7.2.2 9.2.2c1.3 0 2.5.3 3.5.8zm-4 8.4l.6-3.9c-.3-.1-.5-.2-.7-.2-.7 0-1.2.4-1.5 1.2-.3.8-.5 1.7-.5 2.6 0 .8.3 1.2.8 1.2s.9-.3 1.3-.9",more:"14.725 6.667H9.333V1.275C9.333.57 8.738 0 8 0S6.667.57 6.667 1.275v5.392H1.275C.57 6.667 0 7.262 0 8s.57 1.334 1.275 1.334h5.392v5.393C6.667 15.43 7.262 16 8 16s1.333-.57 1.333-1.273V9.334h5.392C15.43 9.334 16 8.738 16 8s-.57-1.333-1.275-1.333"}},{}],22:[function(t,e){var n={yes:!0,no:!1},r={each:function(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},toArray:function(t){return Array.prototype.slice.call(t)},merge:function(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];if(n)for(var r in n)t[r]=n[r]}return t},extend:function(t,e){for(var n in e)t[n]=e[n]},flexboxSupport:function(t,e){var n,r=document,i="flex",s="-webkit-"+i,o=r.createElement("b");try{o.style.display=s,o.style.display=i,n=o.style.display==i||o.style.display==s?i:"no-"+i}catch(o){n="no-"+i}t.className+=" "+e+"--"+n},getDataset:function(t){if("object"==typeof t.dataset)return t.dataset;var e,n,r,i={},s=t.attributes;for(e=s.length-1;e>=0;e--)(n=s[e])&&n.name&&/^data-\w[\w\-]*$/.test(n.name)&&(r=n.name.substr(5).replace(/-./g,function(t){return t.charAt(1).toUpperCase()}),i[r]=n.value);return i},bools:function(t){var e={},i=r.getDataset(t);for(var s in i){var o=i[s];e[s]=n[o]||o}return e},template:function(t,e){return t?t.replace(/\{([^\}]+)\}/g,function(t,n){return n in e?e[n]:t}):""},makeUrl:function(t,e){for(var n in e)e[n]=encodeURIComponent(e[n]);return r.template(t,e)},query:function(t){var e=encodeURIComponent,n=[];for(var r in t)"object"!=typeof t[r]&&n.push(e(r)+"="+e(t[r]));return n.join("&")},set:function(t,e,n){var r=e.split("."),i=null;r.forEach(function(e,n){void 0===t[e]&&(t[e]={}),n!==r.length-1&&(t=t[e]),i=e}),t[i]=n}};e.exports=r},{}],23:[function(t,e){function n(t,e){this.container=t,this.options=e,this.countersLeft=0,this.buttons=[],this.number=0,this.init()}var r=t("./button"),i=(t("./services"),t("./config")),s=t("./utils");n.prototype={init:function(){s.toArray(this.container.children).forEach(this.addButton.bind(this)),this.options.counters?(this.timer=setTimeout(this.appear.bind(this),this.options.wait),this.timeout=setTimeout(this.ready.bind(this),this.options.timeout)):this.appear(),s.flexboxSupport(this.container,i.name)},addButton:function(t){var e=new r(t,this,this.options);this.buttons.push(e),e.options.counterUrl&&this.countersLeft++},update:function(t){(t.forceUpdate||t.url!==this.options.url)&&(this.countersLeft=this.buttons.length,this.number=0,this.buttons.forEach(function(e){e.update(t)}))},updateCounter:function(t,e){e&&(this.number+=e),0===--this.countersLeft&&(this.appear(),this.ready())},appear:function(){this.container.classList.add(i.name+"--visible")},ready:function(){this.timeout&&(clearTimeout(this.timeout),this.container.classList.add(i.name+"--ready"))}},e.exports=n},{"./button":1,"./config":2,"./services":12,"./utils":22}]},{},[5]),function(){var t,e,n=[].slice;(t=BLEmbeddedGames).development=!0,t.log=function(){var e;if(e=1<=arguments.length?n.call(arguments,0):[],t.development)return console.log.apply(console,e)},t.bgImage=function(t){return'style="background-image:url('+BLEmbeddedGames.baseDir+t+')"'},t.substitute=function(t,e){var n,r,i;r=t;for(n in e)i=e[n],r=r.replace(new RegExp("\\${"+n+"}","g"),i);return r},t.addZero=function(t,e){var n;for(null==e&&(e=2),n=String(t);n.length<e;)n="0"+n;return n},t.minutesToHoursMinutes=function(e){return e>=60?Math.floor(e/60)+":"+t.addZero(e%60):"0:"+t.addZero(e)},t.get_ie_version=function(){var t,e;return e=window.navigator.userAgent,t=e.indexOf("MSIE"),t>0?parseInt(e.substring(t+5,e.indexOf(".",t))):navigator.userAgent.match(/Trident\/7\./)||window.navigator.userAgent.indexOf("Edge")>-1?11:0},t.arrayInclude=function(t,e){var n,r;for(n=0,r=t.length;n<r;n++)if(t[n]===e)return!0;return!1},e=Math.log(10),t.log10=function(t){return Math.log(t)/e},t.random=function(t){return Math.floor(Math.random()*t)}}.call(this),function(){var t;BLEmbeddedGames,t=function(t){return t.toString()||function(){throw new TypeError("Invalid layer name")}()},BLEmbeddedGames.LayerSet=function(){function e(t){this.wrapper=t,this.layers=[]}return e.prototype.add=function(e,n,r){if(!(n instanceof BLEmbeddedGames.Layer))throw new TypeError("Second argument must be a Layer");return e=t(e),null!=this.layers[e]&&this.remove(e),this.wrapper.append(n.layout),null!=r?n.setZIndex(r):null!=n.defaultZIndex&&n.setZIndex(n.defaultZIndex),n.layerSet=this,n.name=e,this.layers[e]=n,Object.defineProperty(this,e,{configurable:!0,enumerable:!0,value:n,writable:!1}),setTimeout(function(){return n.onAttach()},0)},e.prototype.remove=function(e){var n,r,i,s,o,a;for(a=[],n=0,i=(o=e instanceof Array?e:[e]).length;n<i;n++)s=o[n],s=t(s),null!=(r=this.layers[s])?(r.onDetach(),r.layerSet=void 0,r.layout.detach(),delete this[s],a.push(this.layers[s]=void 0)):a.push(void 0);return a},e.prototype.clear=function(){var t,e;e=this.layers;for(t in e)e[t],this.remove(t);return this.layers=[]},e}(),BLEmbeddedGames.Layer=function(){function t(){this.layout=this.getLayout()}return t.prototype.getLayout=function(){return this.template.clone()},t.prototype.setZIndex=function(t){return this.layout.css("z-index",t)},t.prototype.onAttach=function(){},t.prototype.onDetach=function(){},t.prototype.animate=function(t){return t(this.layout)},t.prototype.show=function(){return this.layout.css({display:"block"}),this.layout.removeClass("_faded")},t.prototype.hide=function(){return this.layout.addClass("_faded")},t.prototype.defaultButton=function(t,e){return setTimeout(function(n){return function(){var r;return e?(n.defaultButtonHandler=e,n.defaultButtonElem=t,t.on("click",e),n.defaultButtonKeyHandler=function(t){if(13===t.which)return e()},document.addEventListener("keydown",n.defaultButtonKeyHandler)):(null!=(r=n.defaultButtonElem)&&r.off("click"),document.removeEventListener("keydown",n.defaultButtonKeyHandler))}}(this))},t}()}.call(this),function(){var t,e,n,r,i,s;t=BLEmbeddedGames,n={1:{msg:"Мощный смартфон стоит 16&nbsp;900&nbsp;₽, но&nbsp;скидка составит 50%.",variants:[8450,9450,8550,7950]},2:{msg:"Беспроводная стереосистема за&nbsp;12&nbsp;000&nbsp;₽ будет продана со&nbsp;скидкой 60%.",variants:[4800,5600,4e3,5200]},3:{msg:"Мониторные наушники вашей мечты обычно стоят 15&nbsp;400&nbsp;₽, но&nbsp;скидка составит 30%.",variants:[10780,11870,10560,9780]},4:{msg:"Игровой ноутбук с&nbsp;огромным экраном за&nbsp;54&nbsp;500&nbsp;₽ подешевеет во&nbsp;время распродажи на&nbsp;40%.",variants:[32700,34700,28700,31400]},5:{msg:"Шестиосевой квадрокоптер за&nbsp;7&nbsp;400&nbsp;₽ продадут со&nbsp;скидкой в&nbsp;25%.",variants:[5550,5650,6550,6650]}},r={1:{msg:"Ого, коллекционное издание любимой фэнтези-серии продадут со&nbsp;скидкой в&nbsp;50%. Обычно оно стоит 36&nbsp;000&nbsp;₽, а&nbsp;тут еще и кэшбек составит 10%.",answer:16200},2:{msg:"«Умный» телевизор, который обычно стоит 25&nbsp;000&nbsp;₽, будут продавать со&nbsp;скидкой в&nbsp;40%. Кэшбек составит 10%.",answer:13500},3:{msg:"Фотоаппарат обычно стоит 13&nbsp;000&nbsp;₽, но на&nbsp;распродаже будет продан со&nbsp;скидкой в&nbsp;30% и кэшбеком в&nbsp;15%.",answer:7735}},i=[{msg:(s="Объем вашей сумки — 32 литра, при&nbsp;этом известно, что длина и высота одинаковы, а&nbsp;ширина вдвое меньше. Укажите размеры сумки и определите, поместится&nbsp;ли в&nbsp;неё коробка размером ")+"40&nbsp;x&nbsp;20&nbsp;x&nbsp;20&nbsp;см.",answer:[40,20,40,!0]},{msg:s+"60&nbsp;x&nbsp;30&nbsp;x&nbsp;30&nbsp;см.",answer:[40,20,40,!1]},{msg:s+"30&nbsp;x&nbsp;20&nbsp;x&nbsp;30&nbsp;см.",answer:[40,20,40,!0]},{msg:s+"50&nbsp;x&nbsp;40&nbsp;x&nbsp;50&nbsp;см.",answer:[40,20,40,!1]},{msg:s+"20&nbsp;x&nbsp;20&nbsp;x&nbsp;30&nbsp;см.",answer:[40,20,40,!0]}],e={1:function(t){return n[t]},2:function(t){return r[t]},3:function(e){return i[t.random(i.length)]}},t.blackFridayTask=function(t,n){return e[t](n)},t.shuffle=function(e){var n,r,i;for(i=[],n=e.slice();n.length;)r=t.random(n.length),i.push(n[r]),n.splice(r,1);return i}}.call(this),function(){BLEmbeddedGames.svgs={roundIcons:{1:'<svg width="39px" height="39px" viewBox="0 0 39 39" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g transform="translate(-299.00, -132.00)" fill-rule="nonzero" fill="#F5D024"> <g transform="translate(65.00, 119.00)"> <g transform="translate(234.00, 13.00)"> <path d="M16.83,25.15 C16.74,24.84 16.54,24.53 16.24,24.23 C16.01,23.99 15.77,23.83 15.54,23.74 C15.30,23.64 15.06,23.60 14.82,23.62 C14.57,23.64 14.31,23.70 14.05,23.80 C13.78,23.90 13.49,24.03 13.19,24.19 C13.00,24.28 12.83,24.37 12.68,24.46 C12.54,24.54 12.40,24.60 12.29,24.65 C12.17,24.69 12.08,24.71 11.99,24.71 C11.91,24.71 11.83,24.68 11.77,24.61 C11.68,24.53 11.65,24.43 11.69,24.32 C11.72,24.21 11.80,24.09 11.92,23.97 C12.07,23.82 12.25,23.69 12.45,23.58 C12.66,23.47 12.85,23.39 13.04,23.32 C13.25,23.23 13.47,23.16 13.70,23.10 L13.16,21.38 C12.99,21.44 12.80,21.51 12.60,21.58 C12.39,21.66 12.19,21.75 11.97,21.86 C11.75,21.97 11.54,22.09 11.33,22.23 C11.13,22.37 10.93,22.53 10.75,22.71 C10.50,22.96 10.30,23.23 10.15,23.53 C10.00,23.82 9.91,24.13 9.88,24.44 C9.84,24.75 9.88,25.07 9.99,25.38 C10.10,25.69 10.30,25.98 10.57,26.26 C10.75,26.44 10.94,26.58 11.13,26.67 C11.32,26.76 11.52,26.81 11.73,26.82 C11.95,26.82 12.18,26.79 12.42,26.72 C12.67,26.65 12.94,26.54 13.23,26.39 C13.44,26.29 13.62,26.20 13.79,26.10 C13.96,26.00 14.12,25.92 14.26,25.86 C14.40,25.79 14.52,25.75 14.63,25.75 C14.74,25.74 14.83,25.77 14.90,25.84 C14.96,25.90 14.99,25.98 14.97,26.08 C14.95,26.18 14.87,26.31 14.72,26.45 C14.52,26.65 14.30,26.82 14.05,26.95 C13.81,27.08 13.57,27.19 13.35,27.27 C13.10,27.37 12.83,27.45 12.57,27.51 L13.18,29.30 C13.42,29.24 13.66,29.16 13.90,29.05 C14.15,28.95 14.39,28.82 14.64,28.69 C14.88,28.55 15.11,28.40 15.33,28.23 C15.55,28.07 15.75,27.89 15.93,27.71 C16.16,27.48 16.36,27.23 16.54,26.95 C16.71,26.67 16.82,26.37 16.88,26.07 C16.94,25.77 16.92,25.46 16.83,25.15 Z"></path> <path d="M15.80,17.75 L14.55,19.00 L17.80,25.72 L19.20,24.32 L18.52,23.05 L19.84,21.72 L21.12,22.40 L22.51,21.00 L15.80,17.75 Z M17.81,21.93 L16.73,19.92 L18.71,21.03 L17.81,21.93 Z"></path> <polygon points="25.37 15.76 23.10 18.03 19.31 14.23 17.94 15.60 22.93 20.59 26.56 16.96"></polygon> <polygon points="29.40 11.73 27.21 13.92 26.43 13.13 28.24 11.32 27.13 10.21 25.32 12.02 24.61 11.32 26.73 9.20 25.54 8.00 22.05 11.49 27.04 16.48 30.59 12.93"></polygon> <path d="M39,1.61 L37.38,0 L33.52,3.85 L19.20,2.87 L0,22.07 L16.92,39 L36.12,19.79 L35.14,5.47 L39,1.61 Z M16.92,35.76 L3.23,22.07 L20.08,5.23 L32.89,6.10 L33.76,18.91 L16.92,35.76 Z"></path> </g> </g> </g> </g> </svg>',2:'<svg width="30px" height="40px" viewBox="0 0 30 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g transform="translate(-305.00, -129.00)" fill-rule="nonzero" fill="#02C853"> <g transform="translate(65.00, 119.00)"> <g transform="translate(240.00, 10.00)"> <path d="M24.92,22.89 L29.47,20.27 L27.32,15.49 L29.47,10.70 L24.92,8.09 L23.84,2.95 L18.62,3.51 L14.73,0 L10.84,3.51 L5.63,2.95 L4.55,8.09 L0.00,10.70 L2.14,15.49 L0.00,20.27 L4.55,22.89 L5.63,28.02 L5.78,28.00 L2.03,35.99 L7.09,36.05 L10.38,39.92 L14.63,30.88 L14.73,30.98 L14.84,30.88 L19.09,39.92 L22.37,36.05 L27.44,35.99 L23.68,28.00 L23.84,28.02 L24.92,22.89 Z M9.81,35.63 L8.19,33.73 L5.69,33.70 L8.51,27.71 L10.84,27.46 L12.81,29.24 L9.81,35.63 Z M23.77,33.70 L21.28,33.73 L19.66,35.63 L16.65,29.24 L18.62,27.46 L20.96,27.71 L23.77,33.70 Z M22.84,21.38 L21.98,25.47 L17.83,25.02 L14.73,27.83 L11.63,25.02 L7.51,25.47 L7.48,25.45 L6.62,21.38 L3.00,19.30 L4.71,15.49 L3.00,11.67 L6.62,9.59 L7.48,5.51 L11.63,5.95 L14.73,3.15 L17.83,5.95 L21.98,5.51 L22.84,9.59 L26.47,11.67 L24.76,15.49 L26.47,19.30 L22.84,21.38 Z"></path> <path d="M10.58,7.97 C8.74,7.97 7.25,9.46 7.25,11.29 C7.25,13.13 8.74,14.62 10.58,14.62 C12.41,14.62 13.90,13.13 13.90,11.29 C13.90,9.46 12.41,7.97 10.58,7.97 Z M10.58,12.28 C10.03,12.28 9.59,11.84 9.59,11.29 C9.59,10.75 10.03,10.30 10.58,10.30 C11.12,10.30 11.57,10.75 11.57,11.29 C11.57,11.84 11.12,12.28 10.58,12.28 Z"></path> <path d="M18.95,16.35 C17.11,16.35 15.62,17.85 15.62,19.68 C15.62,21.52 17.11,23.01 18.95,23.01 C20.78,23.01 22.27,21.52 22.27,19.68 C22.27,17.85 20.78,16.35 18.95,16.35 Z M18.95,20.67 C18.40,20.67 17.96,20.23 17.96,19.68 C17.96,19.14 18.40,18.69 18.95,18.69 C19.49,18.69 19.93,19.14 19.93,19.68 C19.93,20.23 19.49,20.67 18.95,20.67 Z"></path> <rect transform="translate(14.73, 15.49) rotate(-45.00) translate(-14.73, -15.49) " x="6.08" y="14.32" width="17.30" height="2.33"></rect> </g> </g> </g> </g> </svg>',3:'<svg width="27px" height="36px" viewBox="0 0 27 36" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g transform="translate(-307.00, -131.00)" fill-rule="nonzero" fill="#00B0FF"> <g transform="translate(65.00, 119.00)"> <g transform="translate(242.00, 12.00)"> <path d="M12.52,15.49 C10.92,15.49 9.63,16.79 9.63,18.39 C9.63,19.98 10.92,21.28 12.52,21.28 C14.12,21.28 15.42,19.98 15.42,18.39 C15.42,16.79 14.12,15.49 12.52,15.49 Z M12.52,19.17 C12.09,19.17 11.74,18.82 11.74,18.39 C11.74,17.96 12.09,17.60 12.52,17.60 C12.95,17.60 13.31,17.96 13.31,18.39 C13.31,18.82 12.95,19.17 12.52,19.17 Z"></path> <path d="M19.65,22.64 C18.06,22.64 16.76,23.94 16.76,25.53 C16.76,27.13 18.06,28.43 19.65,28.43 C21.25,28.43 22.55,27.13 22.55,25.53 C22.55,23.94 21.25,22.64 19.65,22.64 Z M19.65,26.32 C19.22,26.32 18.87,25.97 18.87,25.53 C18.87,25.10 19.22,24.75 19.65,24.75 C20.09,24.75 20.44,25.10 20.44,25.53 C20.44,25.97 20.09,26.32 19.65,26.32 Z"></path> <rect transform="translate(16.09, 22.01) rotate(-45.00) translate(-16.09, -22.01) " x="8.44" y="20.96" width="15.28" height="2.10"></rect> <path d="M22.10,5.50 C21.87,2.43 19.29,0 16.16,0 C15.19,0 14.28,0.23 13.48,0.63 C12.67,0.23 11.76,0 10.80,0 C7.66,0 5.09,2.43 4.85,5.50 L0.01,5.50 L0.01,36 L26.13,36 L26.13,5.50 L22.10,5.50 Z M6.04,33.89 L2.12,33.89 L2.12,7.61 L6.04,7.61 L6.04,33.89 Z M16.16,2.10 C18.13,2.10 19.76,3.59 19.99,5.50 L16.75,5.50 C16.65,4.25 16.16,3.10 15.41,2.18 C15.65,2.13 15.90,2.10 16.16,2.10 Z M13.48,3.19 C14.10,3.79 14.52,4.60 14.63,5.50 L12.33,5.50 C12.44,4.60 12.86,3.79 13.48,3.19 Z M10.80,2.10 C11.05,2.10 11.31,2.13 11.55,2.18 C10.79,3.10 10.31,4.25 10.21,5.50 L6.97,5.50 C7.20,3.59 8.83,2.10 10.80,2.10 Z M24.02,33.89 L8.15,33.89 L8.15,7.61 L10.19,7.61 L10.19,10.00 L12.30,10.00 L12.30,7.61 L20.01,7.61 L20.01,10.00 L22.12,10.00 L22.12,7.61 L24.02,7.61 L24.02,33.89 Z"></path> </g> </g> </g> </g> </svg>'}}}.call(this),function(){var t,e,n,r,i=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty,o=function(t,e){return function(){return t.apply(e,arguments)}};t=BLEmbeddedGames,r=function(t){return t?parseInt(t.replace(/\s/g,"")):0},t.StartLayer=function(e){function n(){this.template=t.$('<div class="blbf-start blbf-layer _faded"> <a target="_blank" href="https://letyshops.com/chernaya-pyatnitsa?utm_source=vc&utm_medium=pr&utm_campaign=vc-spec-1"><div class="blbf-start_logo"></div></a> <a href="https://vc.ru/special/letyshops"><div class="blbf-start_header">Проверьте навыки счёта</div></a> <div class="blbf-start_description">Математический тренажер к&nbsp;«Чёрной&nbsp;пятнице» от&nbsp;LetyShops&nbsp;и&nbsp;vc.ru</div> <div class="blbf-start_next-button blbf-button">Начать</div> </div>'),n.__super__.constructor.call(this)}return i(n,e),n.prototype.show=function(){return this.layerSet.controller.$wrapper.removeClass("_tall"),this.layerSet.controller.$wrapper.addClass("_on-start"),n.__super__.show.call(this),this.layerSet.controller.$wrapper.addClass("_on-start"),this.defaultButton(t.$(".blbf-start_next-button"),function(e){return function(){return e.layerSet.controller.secondRoundIntro(),e.layerSet.base.show(),e.hide(),t.sendAnalytics("Hit","Progress")}}(this))},n.prototype.hide=function(){return this.defaultButton(t.$(".blbf-start_next-button")),this.layerSet.controller.$wrapper.removeClass("_on-start"),n.__super__.hide.call(this)},n}(t.Layer),e=174,t.BaseLayer=function(n){function r(){this.template=t.$('<div class="blbf-base blbf-layer _faded"> <div class="blbf-base_header"> <a target="_blank" href="https://letyshops.com/chernaya-pyatnitsa?utm_source=vc&utm_medium=pr&utm_campaign=vc-spec-1"> <div class="blbf-base_logo"></div> </a> <div class="blbf-base_timer"> <canvas class="blbf-base_timer-clock" width="'+e+'" height="'+e+'"></canvas> <div class="blbf-timer">:30</div> </div> <div class="blbf-base_score-display"> Баллы<span class="blbf-score">0</span> </div> </div> </div>'),r.__super__.constructor.call(this)}return i(r,n),r.prototype.msToMinSec=function(e){var n;return n=Math.ceil(e/1e3),":"+t.addZero(n)},r.prototype.timer=function(n,r){var i,s,o,a;if(r&&(this.maxTime=r),null==this.maxTime&&(this.maxTime=n),t.$(".blbf-timer").html(this.msToMinSec(n)),a=n/this.maxTime,(s=t.$(".blbf-base_timer-clock")[0]).getContext)return o=s.getContext("2d"),i=2*a*Math.PI,o.fillStyle="#fff",o.fillRect(0,0,e,e),o.fillStyle="rgb(251, 236, 167)",o.beginPath(),o.arc(e/2,e/2,69,-Math.PI/2,-Math.PI/2+i),o.lineTo(e/2,e/2),o.fill()},r}(t.Layer),t.IntroLayer=function(e){function n(){this.template=t.$('<div class="blbf-intro blbf-layer _faded"> <div class="blbf-intro_box"> <div class="blbf-intro_icon"></div> <div class="blbf-intro_header"></div> <div class="blbf-intro_text"></div> <div class="blbf-intro_ready blbf-button">Я готов</div> </div> </div>'),n.__super__.constructor.call(this)}return i(n,e),n.prototype.show=function(e){return t.$(".blbf-intro_text").html(e.text),t.$(".blbf-intro_header").html(e.header),t.$(".blbf-intro_icon").html(e.icon.svg),t.$(".blbf-intro_icon").css({"padding-left":e.icon.left+"px","padding-top":e.icon.top+"px"}),t.$(".blbf-intro_ready").css("background-color",e.buttonColor),t.$(".blbf-intro_box").css("border-top-color",e.borderColor),this.layerSet.firstRound.showScore(),this.layerSet.controller.timer(),this.layerSet.base.timer(1e3*e.time,1e3*e.time),n.__super__.show.call(this),this.defaultButton(t.$(".blbf-intro_ready"),function(){return e.onReady()})},n.prototype.hide=function(){return this.defaultButton(),n.__super__.hide.call(this)},n}(t.Layer),t.RoundLayer=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,e),n.prototype.start=function(){return this.question=0,this.score=0,this.show(),this.nextQuestion()},n.prototype.prepareSum=function(t){var e;return(e=""+t).slice(0,-3)+" "+e.slice(-3)},n.prototype.nextQuestion=function(){return this.question+=1,this.showScore(),this.question>this.questions?(this.next(),!1):(this.task=t.blackFridayTask(this.round,this.question),this.showTask(),!0)},n.prototype.updateScore=function(t){return t&&(this.score+=1,this.layerSet.controller.score+=this.score_per_question),this.showScore()},n.prototype.confirmAnswer=function(t){return this.nextQuestion()},n.prototype.showScore=function(){return t.$(".blbf-score").html(this.layerSet.controller.score),t.$(".blbf-progress").html(this.question+"/"+this.questions)},n.prototype.show=function(t){return n.__super__.show.call(this)},n.prototype.hide=function(){return n.__super__.hide.call(this)},n}(t.Layer),t.FirstRoundLayer=function(e){function n(){this.next=o(this.next,this),this.template=t.$('<div class="blbf-round blbf-layer _first _faded"> <div class="blbf-task"> <div class="blbf-task_hole"></div> <div class="blbf-task_paper _down"> <div class="blbf-task_paper-edge"></div> <div class="blbf-task_paper-body"> <div class="blbf-progress"></div> <p class="blbf-task_main"></p> <p class="blbf-task_question">Какая стоимость в&nbsp;итоге?</p> </div> </div> </div> <div class="blbf-task_variants _down"></div> </div>'),this.variantTemplate="<span class='blbf-button blbf-task_variant' data-answer='${variant}'> ${strVariant} ₽ <div class='blbf-task_cover _right'> <svg xmlns='http://www.w3.org/2000/svg' width='27' height='20' viewBox='0 0 27 20'> <path fill='none' fill-rule='evenodd' stroke='#FFF' stroke-linecap='square' stroke-width='4' d='M23.667 3L9.778 17l-6.111-6.235'/> </svg> </div> <div class='blbf-task_cover _wrong'> <svg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20'> <g fill='none' fill-rule='evenodd' stroke='#FFF' stroke-linecap='square' stroke-width='4'> <path d='M17 3L3.112 17M3.112 3L17 17'/> </g> </svg> </div> </span>",n.__super__.constructor.call(this),this.questions=5,this.score_per_question=3,this.round=1}return i(n,e),n.prototype.start=function(){return n.__super__.start.call(this),t.$(".blbf-task_paper").removeClass("_down"),t.$(".blbf-task_variants").removeClass("_down")},n.prototype.next=function(){return this.layerSet.controller.secondRoundIntro()},n.prototype.showTask=function(){var e,n,r,i,s,o;for(n=this,t.$("._first .blbf-task_main").html(this.task.msg),o=t.shuffle(this.task.variants),t.$("._first .blbf-task_variants").html(""),e=0,r=o.length;e<r;e++)s=o[e],i=this.prepareSum(s),t.$("._first .blbf-task_variants").append(t.substitute(this.variantTemplate,{variant:s,strVariant:i}));return t.$("._first .blbf-task_variants span").on("click",function(){var e;return t.$("._first .blbf-task_variants span").off("click"),e=parseInt(t.$(this).attr("data-answer")),n.confirmAnswer(e)})},n.prototype.confirmAnswer=function(e){var n;return n=e===this.task.variants[0],this.updateScore(n),n?t.$(".blbf-task_variants span[data-answer='"+e+"'] ._right").addClass("_visible"):(t.$(".blbf-task_variants span[data-answer='"+e+"'] ._wrong").addClass("_visible"),t.$(".blbf-task_variants span[data-answer='"+this.task.variants[0]+"']").addClass("_highlight")),t.$(".blbf-task_paper").addClass("_down"),t.$(".blbf-task_variants").addClass("_down"),setTimeout(function(e){return function(){if(e.layerSet.controller.scrollToGameTop(),e.nextQuestion())return t.$(".blbf-task_paper").removeClass("_down"),t.$(".blbf-task_variants").removeClass("_down")}}(this),1e3)},n.prototype.hide=function(){return t.$("._first .blbf-task_variants span").off("click"),n.__super__.hide.call(this)},n}(t.RoundLayer),t.SecondRoundLayer=function(e){function n(){this.next=o(this.next,this),this.template=t.$('<div class="blbf-round blbf-layer _second _faded"> <div class="blbf-task"> <div class="blbf-task_hole"></div> <div class="blbf-task_paper"> <div class="blbf-task_paper-edge"></div> <div class="blbf-task_paper-body"> <div class="blbf-progress"></div> <p class="blbf-task_main"></p> <p class="blbf-task_question">Сколько денег будет потрачено в&nbsp;итоге?</p> <p class="blbf-task_hint"> <strong>Подсказка:</strong> нужно подсчитать стоимость со скидкой и отнять от полученной суммы процент кэшбека. </p> </div> </div> </div> <div class="blbf-task_input-wrap"> <svg class="blbf-button" xmlns="http://www.w3.org/2000/svg" width="37" height="23" viewBox="0 0 37 23"> <g fill="none" fill-rule="evenodd" stroke="#91B93A" stroke-linecap="round" stroke-width="3"> <path d="M1.5 11.5h33.205M23.5 21.5l11.205-10M23.5 1.5l11.205 10"/> </g> </svg> <input class="blbf-task_input" type="tel" placeholder="Введите правильный ответ"> <div class="blbf-task_cover _right"> <svg xmlns="http://www.w3.org/2000/svg" width="27" height="20" viewBox="0 0 27 20"> <path fill="none" fill-rule="evenodd" stroke="#FFF" stroke-linecap="square" stroke-width="4" d="M23.667 3L9.778 17l-6.111-6.235"/> </svg> </div> <div class="blbf-task_cover _wrong"> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"> <g fill="none" fill-rule="evenodd" stroke="#FFF" stroke-linecap="square" stroke-width="4"> <path d="M17 3L3.112 17M3.112 3L17 17"/> </g> </svg> </div> </div> </div>'),n.__super__.constructor.call(this),this.questions=3,this.score_per_question=5,this.round=2}return i(n,e),n.prototype.start=function(){return n.__super__.start.call(this),t.$(".blbf-task_paper").removeClass("_down")},n.prototype.next=function(){return this.layerSet.controller.thirdRoundIntro()},n.prototype.showTask=function(){if(t.$("._second .blbf-task_input").val(""),t.$(".blbf-task_input-wrap ._right").removeClass("_visible"),t.$(".blbf-task_input-wrap ._wrong").removeClass("_visible"),t.$("._second .blbf-task_main").html(this.task.msg),!t.isMobile)return t.$("._second .blbf-task_input")[0].focus()},n.prototype.confirmAnswer=function(e){var n;return n=e===this.task.answer,this.updateScore(n),n?t.$(".blbf-task_input-wrap ._right").addClass("_visible"):t.$(".blbf-task_input-wrap ._wrong").addClass("_visible"),t.$(".blbf-task_paper").addClass("_down"),setTimeout(function(e){return function(){return e.nextQuestion()&&t.$(".blbf-task_paper").removeClass("_down"),e.blocked=!1,e.layerSet.controller.scrollToGameTop()}}(this),1e3)},n.prototype.show=function(e){var i,s;return n.__super__.show.call(this),s=this,i=function(){var e;if(!s.blocked)return s.blocked=!0,e=r(t.$("._second .blbf-task_input").val()),s.confirmAnswer(e)},t.$("._second .blbf-task_input").on("keydown",function(t){if(13===t.which)return i()}),t.$(".blbf-task_input-wrap svg").on("click",i)},n.prototype.hide=function(){return t.$("._second .blbf-task_input").off("keydown"),t.$(".blbf-task_input-wrap svg").off("click"),n.__super__.hide.call(this)},n}(t.RoundLayer),t.ThirdRoundLayer=function(e){function n(){this.next=o(this.next,this),this.template=t.$('<div class="blbf-round blbf-layer _third _faded"> <div class="blbf-task"> <div class="blbf-task_hole"></div> <div class="blbf-task_paper"> <div class="blbf-task_paper-edge"></div> <div class="blbf-task_paper-body"> <p class="blbf-task_main"></p> <p class="blbf-task_hint"> <strong>Подсказка:</strong> В&nbsp;подсчетах поможет формула V&nbsp;=&nbsp;a&nbsp;·&nbsp;b&nbsp;·&nbsp;h — объем вашей сумки равен произведению длины, ширины и высоты. Напоминаем, что 1&nbsp;литр равен 1000&nbsp;см<sup>3</sup>. </p> </div> </div> </div> <div class="blbf-task_input-block"> <span class="blbf-task_input-dimension _dimension_length"> Длина <input maxlength="2" type="tel" class="blbf-task_input _length"> </span> <span class="blbf-task_input-separator"> <svg width="13px" height="13px" viewBox="0 0 13 13" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round"> <g transform="translate(-218.00, -398.00)" stroke="#FFFFFF" stroke-width="2"> <g transform="translate(62.00, 380.00)"> <g transform="translate(157.00, 19.00)"> <path d="M0.36,0.36 L10.27,10.27"></path> <path d="M0.36,0.36 L10.27,10.27" transform="translate(5.50, 5.50) scale(-1, 1) translate(-5.50, -5.50) "></path> </g> </g> </g> </g> </svg> </span> <span class="blbf-task_input-dimension _dimension_width"> Ширина <input maxlength="2" type="tel" class="blbf-task_input _width"> </span> <span class="blbf-task_input-separator"> <svg width="13px" height="13px" viewBox="0 0 13 13" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round"> <g transform="translate(-218.00, -398.00)" stroke="#FFFFFF" stroke-width="2"> <g transform="translate(62.00, 380.00)"> <g transform="translate(157.00, 19.00)"> <path d="M0.36,0.36 L10.27,10.27"></path> <path d="M0.36,0.36 L10.27,10.27" transform="translate(5.50, 5.50) scale(-1, 1) translate(-5.50, -5.50) "></path> </g> </g> </g> </g> </svg> </span> <span class="blbf-task_input-dimension _dimension_height"> Высота <input maxlength="2" type="tel" class="blbf-task_input _height"> </span> </div> <div class="blbf-task_button-block"> <span class="blbf-task_button blbf-button _fit"> Поместится <div class="blbf-task_cover _right"> <svg xmlns="http://www.w3.org/2000/svg" width="27" height="20" viewBox="0 0 27 20"> <path fill="none" fill-rule="evenodd" stroke="#FFF" stroke-linecap="square" stroke-width="4" d="M23.667 3L9.778 17l-6.111-6.235"/> </svg> </div> <div class="blbf-task_cover _wrong"> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"> <g fill="none" fill-rule="evenodd" stroke="#FFF" stroke-linecap="square" stroke-width="4"> <path d="M17 3L3.112 17M3.112 3L17 17"/> </g> </svg> </div> </span> <span class="blbf-task_button blbf-button _notfit"> Не поместится <div class="blbf-task_cover _right"> <svg xmlns="http://www.w3.org/2000/svg" width="27" height="20" viewBox="0 0 27 20"> <path fill="none" fill-rule="evenodd" stroke="#FFF" stroke-linecap="square" stroke-width="4" d="M23.667 3L9.778 17l-6.111-6.235"/> </svg> </div> <div class="blbf-task_cover _wrong"> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"> <g fill="none" fill-rule="evenodd" stroke="#FFF" stroke-linecap="square" stroke-width="4"> <path d="M17 3L3.112 17M3.112 3L17 17"/> </g> </svg> </div> </span> </div> </div>'),n.__super__.constructor.call(this),this.questions=1,this.score_per_question=15,this.round=3}return i(n,e),n.prototype.start=function(){return n.__super__.start.call(this),t.$(".blbf-task_paper").removeClass("_down")},n.prototype.next=function(){return this.layerSet.controller.final()},n.prototype.showTask=function(){if(t.$("._third .blbf-task_main").html(this.task.msg),t.$(".blbf-task_input").val(""),!t.isMobile)return t.$("._third ._length")[0].focus()},n.prototype.confirmAnswer=function(e){var n,r,i;return n=e[0]===this.task.answer[0]&&e[1]===this.task.answer[1]&&e[2]===this.task.answer[2],e[0]!==this.task.answer[0]?t.$("._dimension_length").addClass("_wrong"):n||t.$("._dimension_length").addClass("_right"),e[1]!==this.task.answer[1]?t.$("._dimension_width").addClass("_wrong"):n||t.$("._dimension_width").addClass("_right"),e[2]!==this.task.answer[2]?t.$("._dimension_height").addClass("_wrong"):n||t.$("._dimension_height").addClass("_right"),i=n&&e[3]===this.task.answer[3],this.updateScore(i),r=e[3]?"._fit":"._notfit",e[3]!==this.task.answer[3]?t.$(r+" ._wrong").addClass("_visible"):i&&t.$(r+" ._right").addClass("_visible"),t.$(".blbf-task_paper").addClass("_down"),setTimeout(function(e){return function(){if(e.layerSet.controller.scrollToGameTop(),e.nextQuestion())return t.$(".blbf-task_paper").removeClass("_down")}}(this),1e3)},n.prototype.highlightMissedDimension=function(e){var n;return(n=t.$("._third ._dimension_"+e)).addClass("_wrong"),setTimeout(function(){return n.removeClass("_wrong")})},n.prototype.show=function(e){var i;return n.__super__.show.call(this),t.$(".blbf-task_input-dimension").removeClass("_right _wrong"),t.$(".blbf-task_cover").removeClass("_visible"),i=this,t.$(".blbf-task_input-dimension").on("click",function(){return t.$(this).find("input")[0].focus()}),t.$("._third ._length").on("keydown",function(e){if(13===e.which)return t.$("._third ._width")[0].focus()}),t.$("._third ._width").on("keydown",function(e){if(13===e.which)return t.$("._third ._height")[0].focus()}),t.$("._third .blbf-task_button").on("click",function(){var e,n,s,o;if(s=r(t.$("._third ._length").val()),o=r(t.$("._third ._width").val()),n=r(t.$("._third ._height").val()),s||i.highlightMissedDimension("length"),o||i.highlightMissedDimension("width"),n||i.highlightMissedDimension("height"),s&&o&&n)return t.$("._second .blbf-task_input").off("keydown"),t.$("._third .blbf-task_button").off("click"),e=t.$(this).hasClass("_fit"),i.confirmAnswer([s,o,n,e])})},n.prototype.hide=function(){return t.$("._second .blbf-task_input").off("keydown"),t.$("._third .blbf-task_button").off("click"),n.__super__.hide.call(this)},n}(t.RoundLayer),n={0:{header:"Я прогуливал математику в школе",msg:["Зато по литературе у меня была пятерка."]},1:{header:"Я — охотник за скидками",msg:["Не нужно заканчивать мехмат, чтобы разглядеть выгоду."]},2:{header:"Я — ловкий счетовод",msg:["У меня все цифры сходятся. Плюс-минус в нужную сторону."]},3:{header:"Я — великий рационализатор",msg:["Математика — это поэзия, а этот ваш тест — детские стишки."]}},t.FinalLayer=function(e){function r(){this.template=t.$('<div class="blbf-final blbf-layer _faded"> <div class="blbf-final_card"> <div class="blbf-final_badge"></div> <div class="blbf-final_header"></div> <div class="blbf-final_description"></div> <div class="blbf-final_socials likely likely--custom"> <div class="blbf-final_social blbf-button facebook">Поделиться</div> <div class="blbf-final_social blbf-button vkontakte"></div> <div class="blbf-final_social blbf-button twitter"></div> </div> <div class="blbf-final_repeat blbf-button"> Пройти еще раз <svg width="18px" height="18px" viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g transform="translate(-383.00, -348.00)" fill="#F5D024"> <g id="Group-2" transform="translate(239.00, 340.00)"> <path d="M161.13,9.28 C160.82,9.15 160.56,9.20 160.34,9.43 L158.89,10.88 C158.09,10.12 157.18,9.54 156.16,9.13 C155.13,8.71 154.07,8.51 152.98,8.51 C151.81,8.51 150.70,8.73 149.64,9.19 C148.58,9.64 147.67,10.25 146.90,11.02 C146.14,11.79 145.52,12.70 145.07,13.76 C144.62,14.82 144.39,15.93 144.39,17.09 C144.39,18.26 144.62,19.37 145.07,20.42 C145.53,21.48 146.14,22.40 146.90,23.16 C147.67,23.93 148.58,24.54 149.64,25.00 C150.70,25.45 151.81,25.68 152.98,25.68 C154.26,25.68 155.48,25.41 156.63,24.87 C157.79,24.33 158.77,23.57 159.58,22.58 C159.64,22.51 159.67,22.42 159.67,22.33 C159.66,22.24 159.63,22.16 159.56,22.10 L158.03,20.56 C157.95,20.49 157.85,20.46 157.75,20.46 C157.63,20.47 157.54,20.52 157.49,20.59 C156.95,21.30 156.28,21.85 155.49,22.24 C154.70,22.62 153.86,22.82 152.98,22.82 C152.20,22.82 151.46,22.67 150.76,22.36 C150.05,22.06 149.44,21.65 148.93,21.14 C148.41,20.63 148.01,20.02 147.70,19.31 C147.40,18.61 147.25,17.87 147.25,17.09 C147.25,16.32 147.40,15.58 147.70,14.87 C148.01,14.17 148.41,13.56 148.93,13.05 C149.44,12.53 150.05,12.12 150.76,11.82 C151.46,11.52 152.20,11.37 152.98,11.37 C154.47,11.37 155.77,11.88 156.88,12.90 L155.33,14.44 C155.10,14.67 155.05,14.92 155.18,15.21 C155.30,15.51 155.52,15.66 155.84,15.66 L160.85,15.66 C161.04,15.66 161.21,15.59 161.35,15.45 C161.49,15.31 161.56,15.14 161.56,14.95 L161.56,9.94 C161.56,9.62 161.42,9.40 161.13,9.28 Z"></path> </g> </g> </g> </svg> </div> </div> <div class="blbf-final_text"> Сервис <b>LetyShops</b>, с&nbsp;которым мы придумали эту&nbsp;игру, в&nbsp;«Черную&nbsp;Пятницу» предлагает скидки, кэшбек и&nbsp;участие в&nbsp;конкурсе, победитель которого будет награждён <strong> автомобилем </strong> — вместительной заменой Большой Чёрной&nbsp;Сумке.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </div> <a target="_blank" href="https://letyshops.com/chernaya-pyatnitsa?utm_source=vc&utm_medium=pr&utm_campaign=vc-spec-1"> <div class="blbf-final_join-button blbf-button">Участвовать</div> </a> <div class="blbf-final_info"> <p> Общий срок проведения конкурса: с 23 ноября 2017 года по 31 марта 2018 года. Выполнение&nbsp;конкурсных&nbsp;заданий: с 23 ноября 2017 года по 26 ноября 2017 года. </p> <p> Источник информации об организаторе такого мероприятия, о правилах его проведения, количестве призов или выигрышей по результатам такого мероприятия, сроках, месте и&nbsp;порядке их получения на сайте <a target="_blank" href="https://letyshops.com/chernaya-pyatnitsa?utm_source=vc&utm_medium=pr&utm_campaign=vc-spec-1">www.letyshops.ru</a> </p> </div> </div>'),r.__super__.constructor.call(this)}return i(r,e),r.prototype.show=function(){var e,i,s,o,a;for(t.sendAnalytics("Hit","Result"),this.layerSet.base.hide(),this.layerSet.controller.$wrapper.addClass("_tall"),r.__super__.show.call(this),this.score=this.layerSet.controller.score,a=this.score<=14?0:this.score<=24?1:this.score<=34?2:3,t.$(".blbf-final_badge").html(this.score),t.$(".blbf-final_header").html(n[a].header),t.$(".blbf-final_description").html(""),e=0,i=(o=n[a].msg).length;e<i;e++)s=o[e],t.$(".blbf-final_description").append("<p>"+s+"</p>");return t.$(".blbf-final_socials").attr("data-title",t.shareTitle),t.$(".blbf-final_socials").attr("data-twitter",t.shareTwitter),t.$(".blbf-final_socials").attr("data-url",t.shareUrl+this.score),window.likely&&window.likely.initiate(),t.$(".blbf-final_repeat").on("click",function(t){return function(){return t.layerSet.controller.newGame(),t.hide()}}(this))},r.prototype.hide=function(){return t.$(".blbf-final_repeat").off("click"),r.__super__.hide.call(this)},r}(t.Layer)}.call(this),function(){var t,e;(e=BLEmbeddedGames).sendAnalytics=function(t,e){if(e=e||"click",void 0!==window.dataLayer)return window.dataLayer.push({event:"data_event",data_description:"Letyshops special — "+e+" — "+t})},e.BlackFridayController=function(){function t(t){this.$wrapper=t,this.layers=new e.LayerSet(this.$wrapper),this.layers.controller=this,this.layers.add("base",new e.BaseLayer),this.layers.add("start",new e.StartLayer),this.layers.add("intro",new e.IntroLayer),this.layers.add("firstRound",new e.FirstRoundLayer),this.layers.add("secondRound",new e.SecondRoundLayer),this.layers.add("thirdRound",new e.ThirdRoundLayer),this.layers.add("final",new e.FinalLayer),this.newGame()}return t.prototype.newGame=function(){return this.score=0,this.startScreen()},t.prototype.intro=function(t){return this.layers.intro.show(t)},t.prototype.timer=function(t,e){if(this.timerInterval&&clearInterval(this.timerInterval),t)return this.timerStart=(new Date).getTime(),this.timerEnd=this.timerStart+1e3*t,this.layers.base.timer(1e3*t),this.timerInterval=setInterval(function(n){return function(){var r;return t=(new Date).getTime(),r=n.timerEnd-t,r>0?n.layers.base.timer(r):(n.layers.base.timer(r),clearInterval(n.timerInterval),e())}}(this),1e3)},t.prototype.startScreen=function(){return this.layers.base.hide(),this.layers.start.show()},t.prototype.firstRoundIntro=function(){return this.layers.final.hide(),this.intro({header:"Раунд 1",text:"На носу распродажи — во&nbsp;время «Чёрной&nbsp;пятницы» все&nbsp;покупки заметно подешевеют. Ежегодно в&nbsp;этот день люди тратят миллионы рублей, вычищая полки магазинов до&nbsp;блеска. Цены ещё не&nbsp;объявлены, но&nbsp;вам удалось выяснить, какими будут скидки на&nbsp;выбранные вами товары. Теперь нужно всё подсчитать.",time:60,buttonColor:"#fff9e5",borderColor:"#f5d024",icon:{svg:e.svgs.roundIcons[1],top:13,left:9},onReady:function(t){return function(){return t.firstRound()}}(this)})},t.prototype.firstRound=function(){return this.layers.intro.hide(),this.timer(60,function(t){return function(){return t.secondRoundIntro()}}(this)),this.layers.firstRound.start()},t.prototype.secondRoundIntro=function(){return this.layers.firstRound.hide(),this.intro({header:"Раунд 2",text:"Вы нашли способ, как помимо скидок получить кэшбек. Похоже, что вам удастся сперва сэкономить, а&nbsp;затем получить часть потраченных денег обратно. Задача усложняется, но нужно все подсчитать.",time:45,buttonColor:"#e6fff0",borderColor:"#02c853",icon:{svg:e.svgs.roundIcons[2],top:10,left:15},onReady:function(t){return function(){return t.secondRound()}}(this)})},t.prototype.secondRound=function(){return this.layers.intro.hide(),this.timer(45,function(t){return function(){return t.thirdRoundIntro()}}(this)),this.layers.secondRound.start()},t.prototype.thirdRoundIntro=function(){return this.layers.secondRound.hide(),this.intro({header:"Раунд 3",text:"Вам удалось закупиться всем, что&nbsp;плохо лежало. На&nbsp;почту скоро пришлют увесистую коробку. У&nbsp;вас есть большая черная сумка, но&nbsp;непонятно, удастся&nbsp;ли разместить в&nbsp;ней посылку. Нужно всё подсчитать.",time:50,buttonColor:"#eaf8ff",borderColor:"#00b0ff",icon:{svg:e.svgs.roundIcons[3],top:12,left:17},onReady:function(t){return function(){return t.thirdRound()}}(this)})},t.prototype.thirdRound=function(){return this.layers.intro.hide(),this.timer(50,function(t){return function(){return t.final()}}(this)),this.layers.thirdRound.start()},t.prototype.final=function(){return this.layers.base.hide(),this.layers.thirdRound.hide(),this.layers.final.show()},t.prototype.scrollToGameTop=function(){return setTimeout(function(t){return function(){var e;return e=t.$wrapper[0].getBoundingClientRect().top+window.pageYOffset,document.documentElement.scrollTop=e}}(this),10)},t}(),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(e.isMobile=!0),t=e.$("#"+e.loaderConfig.targetId),e.baseUrl=t.attr("data-base"),e.shareUrl=t.attr("data-share-url"),e.shareTitle=t.attr("data-share-title"),e.shareTwitter=t.attr("data-share-twitter"),e.main=function(){return new e.BlackFridayController(t)}}.call(this);